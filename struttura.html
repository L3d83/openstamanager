<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>OpenSTAManager</title>

        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Merriweather:400,900,700,300|Open+Sans:400,800,700|Titillium+Web:600,400' type='text/css'>
        <link rel="stylesheet" href="./css/bootstrap.min.css">
        <link rel="stylesheet" href="./css/font-awesome.min.css">
        <link rel="stylesheet" href="./css/github.css">
        <link rel="stylesheet" href="./css/main.css">
    </head>
    <body>

        <header class="site-header">
            <div class="site-branding">
                <h1 class="site-name">
                    <a href="." >OpenSTAManager</a>&nbsp;&nbsp;<i class="fa fa-cog"></i>
                </h1>
                <h2 class="site-description">Il gestionale open source per l'assistenza tecnica e la fatturazione</h2>
            </div>

            <div class="button-line">
                <a href="https://github.com/devcode-it/openstamanager" target="_blank" class="btn btn-default">View on GitHub</a>
                <a href="https://github.com/devcode-it/openstamanager/zipball/master" class="btn btn-default hidden-xs">Download .zip</a>
                <a href="https://github.com/devcode-it/openstamanager/tarball/master" class="btn btn-default hidden-xs">Download .tar.gz</a>
            </div>

                            <a href="https://github.com/devcode-it/openstamanager">
                    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
                </a>
            
            <div class="text-left visible-xs-block" style="margin-left: 15px;">
                <a href="#sidebar" data-toggle="collapse"><i class="fa fa-3x fa-bars" aria-hidden="true"></i></a>
            </div>
        </header>

        <main class="container-fluid">
            <div class="row">

                                    <nav id="sidebar" class="col-sm-3 col-lg-2 collapse in" role="navigation">
                                                    <p class="text-muted">
                                Documentazione di base
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="./index.html">
                                            Home page
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./installazione.html">
                                            Installazione
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./framework.html">
                                            Framework
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./assets.html">
                                            Assets
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./api.html">
                                            API
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Approfondimenti
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="active">
                                        <a href="./struttura.html">
                                            Struttura
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./moduli.html">
                                            Moduli
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./docs/">
                                            Documentazione completa
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://www.openstamanager.com/">
                                            Sito ufficiale
                                        </a>
                                    </li>
                                                            </ul>
                        
                    </nav>

                
                <section class="col-sm-9 col-lg-10 content">
                    <h1 id="struttura">Struttura</h1>
<!-- TOC depthFrom:2 depthTo:6 orderedList:false updateOnSave:true withLinks:true -->
<ul>
<li><a href="#caratteristiche">Caratteristiche</a>
<ul>
<li><a href="#open-source">Open source</a></li>
<li><a href="#modulare-e-personalizzabile">Modulare e personalizzabile</a></li>
<li><a href="#multipiattaforma-e-user-friendly">Multipiattaforma e user friendly</a></li>
</ul></li>
<li><a href="#struttura">Struttura</a></li>
<li><a href="#root">Root</a>
<ul>
<li><a href="#addphp">add.php</a></li>
<li><a href="#ajax_autocompletephp">ajax_autocomplete.php</a></li>
<li><a href="#ajax_dataloadphp">ajax_dataload.php</a></li>
<li><a href="#ajax_selectphp">ajax_select.php</a></li>
<li><a href="#bugphp">bug.php</a></li>
<li><a href="#corephp">core.php</a></li>
<li><a href="#configincphp">config.inc.php</a></li>
<li><a href="#controllerphp">controller.php</a></li>
<li><a href="#editorphp">editor.php</a></li>
<li><a href="#indexphp">index.php</a></li>
<li><a href="#infophp">info.php</a></li>
<li><a href="#logphp">log.php</a></li>
<li><a href="#composerjson-gulpfilejs-packagejson">composer.json, gulpfile.js, package.json</a></li>
</ul></li>
<li><a href="#cartella-api">Cartella api</a></li>
<li><a href="#cartella-assets">Cartella assets</a></li>
<li><a href="#cartella-backup">Cartella backup</a></li>
<li><a href="#cartella-docs">Cartella docs</a></li>
<li><a href="#cartella-files">Cartella files</a></li>
<li><a href="#cartella-include">Cartella include</a>
<ul>
<li><a href="#bottomphp">bottom.php</a></li>
<li><a href="#topphp">top.php</a></li>
</ul></li>
<li><a href="#cartella-lib">Cartella lib</a>
<ul>
<li><a href="#deprecatedphp">deprecated.php</a></li>
<li><a href="#functionsphp">functions.php</a></li>
<li><a href="#functionsjsphp">functionsjs.php</a></li>
<li><a href="#initjs">init.js</a></li>
</ul></li>
<li><a href="#cartella-locale">Cartella locale</a></li>
<li><a href="#cartella-modules">Cartella modules</a></li>
<li><a href="#cartella-templates">Cartella templates</a></li>
<li><a href="#cartella-update">Cartella update</a>
<ul>
<li><a href="#create_updatessql">create_updates.sql</a></li>
<li><a href="#versionesql">VERSIONE.sql</a></li>
<li><a href="#versionephp">VERSIONE.php</a></li>
</ul></li>
<li><a href="#cartella-vendor">Cartella vendor</a></li>
</ul>
<!-- /TOC -->
<h2 id="caratteristiche">Caratteristiche</h2>
<h3 id="open-source">Open source</h3>
<p>La natura open source (termine inglese che significa <em>sorgente aperta</em>) del progetto evidenzia lo spirito di collaborazione e condivisione che pervade l'attività di sviluppo del gestionale, di cui gli autori rendono pubblico il codice sorgente e ne favoriscono il libero studio, permettendo a programmatori indipendenti di apportarvi modifiche ed estensioni.</p>
<p>Particolarmente espressiva in questo senso risulta essere la documentazione ufficiale del progetto:</p>
<blockquote>
<p>Il progetto è un software open source perché permette agli utilizzatori di studiarne il funzionamento ed adattarlo alle proprie esigenze; inoltre, in ambito commerciale, non obbliga l'utilizzatore ad essere legato allo stesso fornitore di assistenza.</p>
</blockquote>
<p>La licenza in utilizzo è la GNU General Public License 3.0 (GPL 3.0).</p>
<h3 id="modulare-e-personalizzabile">Modulare e personalizzabile</h3>
<p>OpenSTAManager possiede una struttura fortemente modulare, che ne permette la rapida espandibilità e, nello specifico,  la realizzazione di funzionalità <em>ad hoc</em>, personalizzate nel modo più completo secondo le richieste del cliente.</p>
<h3 id="multipiattaforma-e-user-friendly">Multipiattaforma e user friendly</h3>
<p>Il progetto risulta compatibile con numerose piattaforme, necessitando esclusivamente un browser moderno da parte dei suoi utilizzatori per sfruttare appieno le sue potenzialità.
L'interfaccia di interazione con l'utente finale risulta inoltre estremamente semplificata e <em>user friendly</em>, oltre che <em>responsive</em>, presentando caratteristiche completamente compatibili con tutti i dispositivi mobili (in particolare, tablet e smartphone).</p>
<h2 id="struttura-1">Struttura</h2>
<p>Scaricando la versione GIT del progetto dovreste trovare una struttura di base molto simile a quella seguente.</p>
<pre><code>.
├── api
├── assets
├── backup
├── doc
├── files
├── include
├── lib
├── locale
├── modules
├── src
├── templates
├── update
└── vendor</code></pre>
<p>Analizzeremo ora in dettaglio la funzione delle diverse cartelle e dei relativi contenuti.
Si avverte che il gestionale è fortemente basato sulla correttezza contemporanea di molti file: siete pertanto pregati di astenervi da modifiche o, se queste dovessero rivelarsi necessarie, procedere alla creazione di un relativo file custom nella cartella del file.
E' comunque consigliabile richiedere l'assistenza ufficiale.</p>
<p>Per maggiori informazioni riguardanti la procedura di personalizzazione, rivolgersi alle specifiche sezioni di ogni settore.</p>
<h2 id="root">Root</h2>
<p>I contenuti della cartella <em>root</em> sono estremamente importanti per il progetto, in quanto sono generalmente dedicati a garantire il corretto funzionamento dell'intero gestionale.
Questa centralizzazione permette al software di essere estremamente scalabile e personalizzabile, soprattutto in relazione ai moduli.
Per maggiori informazioni riguardanti lo sviluppo di un modulo, consultare la sezione <a href="moduli.html">Moduli</a>.</p>
<h3 id="addphp">add.php</h3>
<p>Il file <code>add.php</code> è dedicato alla gestione dei form di creazione nuovi elementi all'interno dei vari moduli.</p>
<p>In particolare si occupa parallelamente della funzionalità di aggiunta al volo, visibile in azione nei modulo <strong>Interventi</strong>, <strong>Articoli</strong> e in alcuni altri punti del software.</p>
<h3 id="ajax_autocompletephp">ajax_autocomplete.php</h3>
<p>Il file <code>ajax_dataload.php</code> gestisce il caricamento dinamico dei dati in varie sezioni del sito, relativamente alle operazioni di auto-completamento dei form e della ricerca globale.</p>
<p><strong>Attenzione</strong>: questo sistema è ormai deprecato e, tranne in rari casi, completamente sostituito dall'utilizzo del file <code>ajax_select.php</code> e dal plugin <a href="https://select2.github.io/">Select2</a>.</p>
<h3 id="ajax_dataloadphp">ajax_dataload.php</h3>
<p>Il file <code>ajax_dataload.php</code> gestisce il caricamento dinamico dei dati nelle tabelle fornite nella vista generale dei moduli (<code>controller.php</code>), filtrando i risultati in base alle richieste dell'utente.</p>
<h3 id="ajax_selectphp">ajax_select.php</h3>
<p>Il file <code>ajax_select.php</code> gestisce il caricamento dinamico dei dati nei diversi select abilitati, garantendo l'accesso a tutti i record senza provocare rallentamenti (persino per numeri più elevati).</p>
<h3 id="bugphp">bug.php</h3>
<p>Il file <code>bug.php</code> si occupa della segnalazione dei bug, fornendo un sistema integrato di invio email dopo la configurazione di pochi parametri iniziali.</p>
<p>Le opzioni relative alle informazioni da allegare sono:</p>
<ul>
<li>Allegare il file di log (fondamentale nel caso si stia effettuando una segnalazione)</li>
<li>Allegare una copia del database</li>
<li>Allegare le informazioni relative al PC utilizzato</li>
</ul>
<h3 id="corephp">core.php</h3>
<p>Il <em>core</em> contiene il nucleo dell'intero gestionale: si occupa delle operazioni di inizializzazione fondamentali, compresa l'inclusione del file di configurazione <code>config.inc.php</code> e la creazione dell'elenco degli assets da includere.
Si occupa inoltre del controllo dei permessi, tramite il richiamo alla specifica classe <code>Permissions</code>, e dell'individuazione delle informazioni di base relative al modulo in utilizzo.</p>
<h3 id="configincphp">config.inc.php</h3>
<p>Il file <code>config.inc.php</code> contiene tutte le informazioni per accedere correttamente al database e per determinare il tema utilizzato dal gestionale.</p>
<p><strong>Attenzione</strong>: questo file non è presente di default poiché obbligatoriamente da personalizzare tramite la procedura di installazione.
La struttura di base può essere comunque osservata all'interno del file <code>config.example.php</code>.</p>
<h3 id="controllerphp">controller.php</h3>
<p>Il file <code>controller.php</code> si occupa di gestire l'accesso generico ai moduli, caricando le informazioni e i widget del modulo in oggetto.
Permette inoltre la visualizzazione, in base ai permessi accordati all'utente, del pulsante di creazione nuovi elementi.</p>
<h3 id="editorphp">editor.php</h3>
<p>Il file <code>editor.php</code> si occupa di gestire l'accesso specifico ai dati di un singolo elemento di un modulo, caricando al tempo stesso l'insieme di plugin (e, in casi più rari, di widget) legati alla visualizzazione dell'elemento in oggetto.
Permette inoltre, in base ai permessi accordati all'utente, la modifica dei dati inseriti e l'interazione con altri moduli.</p>
<h3 id="indexphp">index.php</h3>
<p>Il file <code>index.php</code> si occupa delle operazioni di accesso e scollegamento al gestionale, oltre che effettuare un controllo sulla disponibilità di aggiornamenti (tramite l'inclusione di <code>include/update.php</code>) e a garantire il redirect iniziale al primo modulo su cui l'utente possiede i permessi di accesso.</p>
<h3 id="infophp">info.php</h3>
<p>Il file <code>info.php</code> contiene la sezione informativa relativa al progetto, indicante la community, la modalità di supporto e le offerte a pagamento.</p>
<h3 id="logphp">log.php</h3>
<p>Il file <code>log.php</code> permette di visualizzare le informazioni relative agli ultimi 100 tentativi di accesso.</p>
<p><strong>Attenzione</strong>: nel caso in cui l'utente sia un amministratore, le informazioni accessibili sono relative a <strong>tutti</strong> gli utenti (al contrario, un utente normale può visualizzare esclusivamente i propri tentativi).</p>
<h3 id="composerjson-gulpfilejs-packagejson">composer.json, gulpfile.js, package.json</h3>
<p>Per maggiori informazioni questi file, consultare le sezioni <a href="framework.html">Framework</a> e <a href="assets.html">Assets</a>.</p>
<h2 id="cartella-api">Cartella api</h2>
<p>Per maggiori informazioni riguardanti la cartella <code>api</code> e i suoi contenuti, rivolgersi alla sezione <a href="api.html">API</a>.</p>
<h2 id="cartella-assets">Cartella assets</h2>
<p>Per maggiori informazioni riguardanti la cartella <code>assets</code> e i suoi contenuti, rivolgersi alla sezione <a href="assets.html">Assets</a>.</p>
<h2 id="cartella-backup">Cartella backup</h2>
<p>La cartella <em>backup</em> è quella di default utilizzata dall'operazione omonima del progetto.</p>
<h2 id="cartella-docs">Cartella docs</h2>
<p>La cartella <code>docs</code>, come si può intuire, contiene la documentazione di sviluppo del progetto.</p>
<h2 id="cartella-files">Cartella files</h2>
<p>Per maggiori informazioni riguardanti la cartella <code>files</code> e i suoi contenuti, rivolgersi alla sezione <a href="moduli.html">Moduli</a>.</p>
<h2 id="cartella-include">Cartella include</h2>
<h3 id="bottomphp">bottom.php</h3>
<p>Il file <code>bottom.php</code> si occupa delle operazioni di chiusura della pagina HTML, garantendo inoltre l'eliminazione dei log temporanei della sessione.</p>
<p>Si ricorda che è possibile creare una personalizzazione di questa pagina nella cartella <code>custom</code>.</p>
<h3 id="topphp">top.php</h3>
<p>Il file <code>top.php</code> gestisce la creazione del layout di base del gestionale, comprendente la barra di navigazione e la sidebar.</p>
<p>Si ricorda che è possibile creare una personalizzazione di questa pagina nella cartella <code>custom</code>.</p>
<h2 id="cartella-lib">Cartella lib</h2>
<p>La cartella <code>lib</code> contiene le librerie personalizzate e le funzioni utilizzate dall'intero gestionale nei diversi moduli.</p>
<p><strong>Attenzione</strong>: sono qui presenti solo i metodi generali e comunemente riutilizzati.
Per maggiori informazioni riguardanti la locazione delle funzioni specifiche di un modulo, visitare la sezione <a href="moduli.html">Moduli</a>.</p>
<h3 id="deprecatedphp">deprecated.php</h3>
<p>Il file <code>deprecated.php</code> contiente l'insieme di funzioni deprecate nella versione corrente del gestionale, che verranno successivamente rimosse nella futura release.</p>
<h3 id="functionsphp">functions.php</h3>
<p>Il file <code>functions.php</code> contiene tutte le funzioni comunemente utilizzate nel progetto.</p>
<h3 id="functionsjsphp">functionsjs.php</h3>
<p>Il file <code>functionsjs.php</code> contiene tutte le funzioni JavaScript comunemente utilizzate nel progetto.</p>
<h3 id="initjs">init.js</h3>
<p>Il file <code>init.js</code> contiene le funzioni JavaScript comunemente richiamate al caricamento di parti indipendenti del progetto.</p>
<h2 id="cartella-locale">Cartella locale</h2>
<p>La cartella <code>locale</code> contiene tutte le traduzioni del progetto, nei formati tipici di Gettext (<code>.po</code> e <code>.mo</code>).</p>
<h2 id="cartella-modules">Cartella modules</h2>
<p>Per maggiori informazioni riguardanti la cartella <code>modules</code> e i suoi contenuti, rivolgersi alla sezione <a href="moduli.html">Moduli</a>.
Si ricorda che per tutti i contenuti del modulo è possibile creare una personalizzazione nella cartella <code>custom</code>.</p>
<h2 id="cartella-templates">Cartella templates</h2>
<p>La cartella <code>templates</code> contiene tutti i file relativi alla visualizzazione in PDF dei dati dei vari moduli.
Per maggiori informazioni riguardanti la cartella <code>templates</code> e i suoi contenuti, rivolgersi alla sezione <a href="stampe.html">Stampe</a>.</p>
<h2 id="cartella-update">Cartella update</h2>
<h3 id="create_updatessql">create_updates.sql</h3>
<p>Il file <code>create_updates.sql</code> contiene la query SQL per la creazione della tabella di gestione degli aggiornamenti e delle installazioni del gestionale.</p>
<h3 id="versionesql">VERSIONE.sql</h3>
<p>I file <code>VERSIONE.sql</code> contengono l'insieme di query SQL necessarie per l'aggiornamento del gestionale alla versione <em>VERSIONE</em>.</p>
<h3 id="versionephp">VERSIONE.php</h3>
<p>I file <code>VERSIONE.php</code> contengono l'insieme di operazioni PHP (e, talvolta, SQL) necessarie per l'aggiornamento del gestionale alla versione <em>VERSIONE</em>.</p>
<h2 id="cartella-vendor">Cartella vendor</h2>
<p>Per maggiori informazioni riguardanti la cartella <code>vendor</code> e i suoi contenuti, rivolgersi alla sezione <a href="framework.html">Framework</a>.</p>
                </section>

            </div>
        </main>

        <footer class="site-footer">
            <div class="top-bar-line"></div>
            <div class="bottom-panel">
                <div class="text-center">
            <span>
                                    Progettato e sviluppato da DevCode.
                                                </span>
                </div><!-- text-center -->
            </div><!-- bottom-panel -->
        </footer>


        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script src="./js/highlight.pack.js"></script>

        <script>
            hljs.initHighlighting();

            function checkWidth($highlight) {
                if ($(window).width() < 768) {
                    $highlight.addClass('collapse');
                } else {
                    $highlight.removeClass('collapse');
                }
            }

            $(document).ready(function () {
                var $highlights = $('.hljs');
                $highlights.each(function (index) {
                    var $this = $(this).parent();
                    var elementId = 'hljs' + index;
                    $this.attr('id', elementId);
                    $this.before('<a class="visible-xs-inline visible-sm-inline" href="#' + elementId + '" data-toggle="collapse"><i class="fa fa-expand"></i>&nbsp;Toggle source code ...</a>');

                    checkWidth($this);
                    $(window).resize(function () {
                        checkWidth($this);
                    });
                });
            });

                            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-42808312-1', 'auto');
                ga('send', 'pageview');
            
        </script>

    </body>
</html>
