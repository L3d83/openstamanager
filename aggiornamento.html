<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>OpenSTAManager</title>

        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Merriweather:400,900,700,300|Open+Sans:400,800,700|Titillium+Web:600,400' type='text/css'>
        <link rel="stylesheet" href="./css/bootstrap.min.css">
        <link rel="stylesheet" href="./css/font-awesome.min.css">
        <link rel="stylesheet" href="./css/github.css">
        <link rel="stylesheet" href="./css/main.css">
    </head>
    <body>

        <header class="site-header">
            <div class="site-branding">
                <h1 class="site-name">
                    <a href="." >OpenSTAManager</a>&nbsp;&nbsp;<i class="fa fa-cog"></i>
                </h1>
                <h2 class="site-description">Il software gestionale open source per l'assistenza tecnica e la fatturazione</h2>
            </div>

            <div class="button-line">
                <a href="https://github.com/devcode-it/openstamanager" target="_blank" class="btn btn-default">View on GitHub</a>
                <a href="https://github.com/devcode-it/openstamanager/zipball/master" class="btn btn-default hidden-xs">Download .zip</a>
                <a href="https://github.com/devcode-it/openstamanager/tarball/master" class="btn btn-default hidden-xs">Download .tar.gz</a>
            </div>

                            <a href="https://github.com/devcode-it/openstamanager">
                    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
                </a>
            
            <div class="text-left visible-xs-block" style="margin-left: 15px;">
                <a href="#sidebar" data-toggle="collapse"><i class="fa fa-3x fa-bars" aria-hidden="true"></i></a>
            </div>
        </header>

        <main class="container-fluid">
            <div class="row">

                                    <nav id="sidebar" class="col-sm-3 col-lg-2 collapse in" role="navigation">
                                                    <p class="text-muted">
                                Introduzione
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="./index.html">
                                            Home
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./installazione.html">
                                            Installazione
                                        </a>
                                    </li>
                                                                    <li class="active">
                                        <a href="./aggiornamento.html">
                                            Aggiornamento
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./api.html">
                                            API
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Approfondimenti
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="./struttura.html">
                                            Struttura
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./moduli.html">
                                            Moduli
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./upload.html">
                                            Gestione degli upload
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./widget.html">
                                            Plugin
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./stampe.html">
                                            Stampe
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Personalizzazione
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="./framework.html">
                                            Framework
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="./assets.html">
                                            Assets
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Link utili
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="./docs/">
                                            Documentazione
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://www.openstamanager.com">
                                            Sito web
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://www.openstamanager.com/forum">
                                            Forum
                                        </a>
                                    </li>
                                                            </ul>
                        
                    </nav>

                
                <section class="col-sm-9 col-lg-10 content">
                    <h1 id="aggiornamento">Aggiornamento</h1>
<p><strong>Attenzione</strong>: Questa documentazione è esclusivamente relativa all'aggiornamento del software. Per maggiori informazioni sull'installazione consultare la documentazione relativa nella sezione <a href="installazione.html">Installazione</a>.</p>
<p>Esistono due procedure ufficiale per effettuare l'aggiornamento di OpenSTAManager in modo corretto: una semplificata (<em>consigliata</em>) e una manuale.</p>
<p>In ogni caso, il corretto procedimento prevede di <a href="https://github.com/devcode-it/openstamanager/releases">scaricare una release ufficiale del progetto</a> ed <strong>effettuare un backup della versione corrente</strong> (comprensivo di file e database).</p>
<!-- TOC depthFrom:2 depthTo:6 orderedList:false updateOnSave:true withLinks:true -->
<ul>
<li><a href="#aggiornamento-semplificato">Aggiornamento semplificato</a></li>
<li><a href="#aggiornamento-manuale">Aggiornamento manuale</a></li>
<li><a href="#migrazione-dalla-versione-1x">Migrazione dalla versione 1.x</a></li>
<li><a href="#recupero-della-password">Recupero della password</a>
<ul>
<li><a href="#account-comune">Account comune</a></li>
<li><a href="#account-amministrativo">Account amministrativo</a></li>
</ul></li>
</ul>
<!-- /TOC -->
<h2 id="aggiornamento-semplificato">Aggiornamento semplificato</h2>
<p>La procedura di aggiornamento semplificato ha l'obiettivo di fornire un sistema di facile utilizzo per favorire l'aggiornamento, e migliorare in questo modo l'interazione con l'utente finale.</p>
<p>L'utilizzo di questa procedura è però sottoposto alla seguenti condizioni nelle impostazioni PHP:</p>
<ul>
<li><code>upload_max_filesize</code> &gt;= 16MB</li>
<li><code>post_max_size</code> &gt;= 16MB</li>
</ul>
<p>Di seguito la procedura:</p>
<ol>
<li>Accedere con un account amministrativo</li>
<li>Entrare nel modulo <strong>Aggiornamenti</strong> (disponibile nel menu principale a sinistra, eventualmente sotto la dicitura <strong>Strumenti</strong>)</li>
<li>Selezionare il file <em>.zip</em> della release attraverso l'apposita sezione &quot;Carica un aggiornamento&quot; e cliccare sul pulsante &quot;Carica&quot;</li>
</ol>
<p>Dopo l'esecuzione di queste azioni, il gestionale effettuerà automaticamente il logout di tutti gli utenti connessi e renderà disponibile l'interfaccia di aggiornamento.</p>
<h2 id="aggiornamento-manuale">Aggiornamento manuale</h2>
<p>La procedura di aggiornamento manuale è resa disponibile per ovviare ai problemi relativi al caricamento del file <em>.zip</em> (in alcuni casi il file non viene correttamente rilevato, non sono disponibili i permessi per caricare file oppure la dimensione del file eccede il limite di upload sul server).</p>
<p>Di seguito la procedura:</p>
<ol>
<li>De-comprimere il contenuto del file <em>.zip</em> in una cartella temporanea</li>
<li>Rinominare il file <code>VERSION</code> dell'installazione corrente in <code>VERSION.old</code> (rispettando minuscole e maiuscole) [facoltativo a partire dalla versione 2.3]</li>
<li>Copiare i file della nuova versione dalla cartella temporanea alla cartella del server, in modo che le cartelle principali (<code>files</code>, <code>modules</code>, <code>templates</code>, ...) vengano sovrascritte</li>
</ol>
<p>Dopo l'esecuzione di queste azioni, il gestionale effettuerà automaticamente il logout di tutti gli utenti connessi e renderà disponibile l'interfaccia di aggiornamento.</p>
<h2 id="migrazione-dalla-versione-1x">Migrazione dalla versione 1.x</h2>
<p>E' possibile effettuare la migrazione da una qualsiasi versione 1.x alla nuova 2.0,  seguendo una procedura un po’ diversa dalle precedenti:</p>
<ol>
<li>Scaricare la versione 2.0 per la migrazione da SourceForge (<a href="https://sourceforge.net/projects/openstamanager/files/openstamanager/openstamanager-2.x/">openstamanager-2.0-migrazione.zip</a>)</li>
<li>Creare un backup completo della versione in uso</li>
<li>De-comprimere il contenuto del file <em>.zip</em> in una cartella temporanea</li>
<li>Effettuare le seguenti operazioni dal backup della precedente versione alla cartella della versione 2.0:
<ul>
<li>Copiare il file <code>VERSION</code>, rinominandolo in <code>VERSION.old</code></li>
<li>Copiare il file <code>config.inc.php</code></li>
<li>Copiare la cartella <code>files/</code></li>
<li>Copiare i contenuti della cartella <code>/modules/magazzino/articoli/images/</code> in <code>/files/articoli/</code></li>
<li>Copiare la cartella <code>templates/</code> (mantenendo però i file <code>pdfgen.php</code> e <code>pdfgen_variables.php</code> di della versione 2.0)</li>
</ul></li>
</ol>
<p>Dopo l'esecuzione di queste azioni, il gestionale renderà disponibile l'interfaccia di aggiornamento.</p>
<p><strong>Attenzione</strong>: le stampe di <em>Interventi</em>, <em>Riepilogo interventi</em>, <em>Contratti</em> e <em>Preventivi</em> potrebbero non essere compatibili per via dell’aggiornamento degli orari di lavoro, perciò è possibile riscrivere solo la parte di calcolo ore o partire dal template nuovo e apportare le dovute modifiche.</p>
<h2 id="recupero-della-password">Recupero della password</h2>
<p>Non esiste una procedura semplificata per permettere il recupero della password degli account di amministrazione (di default, <em>admin</em>) o di quelli comuni.
Si ricorda che è comunque possibile <strong>cambiare</strong> la password in ogni momento, se è stato effettuato l'accesso, attraverso l'utilizzo del modulo <strong>Utenti e permessi</strong> (<strong>Gestione permessi</strong> per versioni precedenti alla 2.3) disponibile sotto la dicitura <strong>Strumenti</strong>.</p>
<p>Può però essere necessario <strong>reimpostare</strong> la password, in particolare se è stata dimenticata, per ripristinare l'accesso ad OpenSTAManager.</p>
<h3 id="account-comune">Account comune</h3>
<p>Per procedere alla reimpostazione della password di un account comune (non amministrativo) è necessario accedere con un account amministrativo e utilizzare il modulo <strong>Utenti e permessi</strong> (<strong>Gestione permessi</strong> per versioni precedenti alla 2.3), disponibile sotto la dicitura <strong>Strumenti</strong>.
In particolare, una volta entrati nella corretta categoria di accesso (<em>Agenti</em>, <em>Amministratori</em>, <em>Clienti</em>, ...) dell'account da modificare, è possibile utilizzare la procedura semplificata di cambio password attraverso l'<em>icona del lucchetto aperto</em>.</p>
<p>Nel caso non sia possibile accedere con un account amministrativo, contattare l'amministratore.</p>
<h3 id="account-amministrativo">Account amministrativo</h3>
<p>Per reimpostare la password di un account amministrativo è possibile procedere in due modi:</p>
<ul>
<li>Se esiste un altro account amministrativo, seguire la procedura precedente per gli account comuni;</li>
<li>Accedere al database ed eseguire la seguente query:
<pre><code class="language-sql">UPDATE `zz_utenti` SET password = MD5('nuova_password') WHERE username = 'admin';</code></pre></li>
</ul>
                </section>

            </div>
        </main>

        <footer class="site-footer">
            <div class="top-bar-line"></div>
            <div class="bottom-panel">
                <div class="text-center">
            <span>
                                    Progettato e sviluppato da &lt;a href=&quot;http://devcode.it/&quot;&gt;DevCode&lt;/a&gt;.
                                                </span>
                </div><!-- text-center -->
            </div><!-- bottom-panel -->
        </footer>


        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script src="./js/highlight.pack.js"></script>

        <script>
            hljs.initHighlighting();

            function checkWidth($highlight) {
                if ($(window).width() < 768) {
                    $highlight.addClass('collapse');
                } else {
                    $highlight.removeClass('collapse');
                }
            }

            $(document).ready(function () {
                var $highlights = $('.hljs');
                $highlights.each(function (index) {
                    var $this = $(this).parent();
                    var elementId = 'hljs' + index;
                    $this.attr('id', elementId);
                    $this.before('<a class="visible-xs-inline visible-sm-inline" href="#' + elementId + '" data-toggle="collapse"><i class="fa fa-expand"></i>&nbsp;Toggle source code ...</a>');

                    checkWidth($this);
                    $(window).resize(function () {
                        checkWidth($this);
                    });
                });
            });

                            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-42808312-1', 'auto');
                ga('send', 'pageview');
            
        </script>

    </body>
</html>
